<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Users_model extends CI_Model
{
	protected $table='users';

	public function insertion_users($nom,$prenom,$identifiant,$email,$password)
	{// insertion des données dans la bdd
		$this->load->database();
		return $this->db->set('nom', $nom)
			->set('prenom',$prenom)
			->set('identifiant', $identifiant)
			->set('email', $email)
			->set('password', $password)
			->insert($this->table);
	}
	public function login_user($identifiant,$password)
	{
		$this->load->database();
		return $this->db->select('*')
                        ->from($this->table)
                        ->where('identifiant', $identifiant)
                        ->where('password', $password)
                        ->get()
                        ->result();
	}
	
	public function erreur_connexion($identifiant,$password)
	{
		$this->load->database();
		// on va tester sur password, si retourne un empyt ça veut dire que password où il ya l'identifiant n'existe pas
		return $this->db->select('password')
                        ->from($this->table)
                        ->where('password', $password)
                        ->where('identifiant', $identifiant)
                        ->get()
                        ->result();
	}
}